{
  "pluginAlias": "KostalInverter",
  "pluginType": "platform",
  "singular": true,
  "customUi": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "Kostal Inverter",
        "description": "Name der Kostal Inverter Platform"
      },
      "language": {
        "title": "Sprache",
        "type": "string",
        "enum": ["de", "en", "fr", "it", "zh"],
        "default": "de",
        "description": "Sprache für die Benutzeroberfläche"
      },
      "kostal": {
        "title": "Kostal Wechselrichter Verbindung",
        "type": "object",
        "properties": {
          "host": {
            "title": "IP-Adresse",
            "type": "string",
            "format": "ipv4",
            "description": "IP-Adresse deines Kostal-Wechselrichters",
            "required": true
          },
          "username": {
            "title": "Benutzername",
            "type": "string",
            "default": "pvserver",
            "description": "Benutzername für Kostal-Wechselrichter (Standard: pvserver)"
          },
          "password": {
            "title": "Passwort",
            "type": "string",
            "format": "password",
            "default": "pvwr",
            "description": "Passwort für Kostal-Wechselrichter (Standard: pvwr)"
          },
          "autoDetectModel": {
            "title": "Modell automatisch erkennen",
            "type": "boolean",
            "default": true,
            "description": "Versuche das Wechselrichter-Modell automatisch zu erkennen"
          }
        },
        "required": ["host"]
      },
      "inverter": {
        "title": "Wechselrichter Konfiguration",
        "type": "object",
        "properties": {
          "name": {
            "title": "Wechselrichter Name",
            "type": "string",
            "default": "Kostal Plenticore",
            "description": "Name des Wechselrichters in HomeKit"
          },
          "model": {
            "title": "Modell",
            "type": "string",
            "default": "Plenticore 10.0",
            "description": "Modell des Kostal-Wechselrichters (wird automatisch erkannt wenn aktiviert)"
          },
          "serialNumber": {
            "title": "Seriennummer",
            "type": "string",
            "default": "123456789",
            "description": "Seriennummer des Wechselrichters (wird automatisch erkannt wenn aktiviert)"
          },
          "maxPower": {
            "title": "Maximale Leistung (W)",
            "type": "number",
            "default": 10000,
            "minimum": 1000,
            "maximum": 50000,
            "description": "Maximale Leistung des Wechselrichters in Watt"
          },
          "maxEnergyPerDay": {
            "title": "Maximale Tagesenergie (kWh)",
            "type": "number",
            "default": 20,
            "minimum": 1,
            "maximum": 100,
            "description": "Maximale erwartete Tagesenergie in kWh"
          },
          "strings": {
            "title": "Anzahl DC-Strings",
            "type": "number",
            "default": 2,
            "minimum": 1,
            "maximum": 4,
            "description": "Anzahl der DC-Strings (Solarpanels)"
          }
        },
        "required": ["name"]
      },
      "pollingInterval": {
        "title": "Abfrageintervall (Sekunden)",
        "type": "number",
        "default": 30,
        "minimum": 10,
        "maximum": 300,
        "description": "Intervall für Datenabfrage vom Kostal-Wechselrichter"
      },
      "childBridge": {
        "title": "Child Bridge",
        "type": "boolean",
        "default": false,
        "description": "Plugin als Child Bridge ausführen (empfohlen für Stabilität)"
      },
      "childBridgePort": {
        "title": "Child Bridge Port",
        "type": "number",
        "default": 8581,
        "minimum": 1000,
        "maximum": 65535,
        "description": "Port für Child Bridge (nur wenn Child Bridge aktiviert)"
      }
    },
    "required": ["inverter"]
  }
}